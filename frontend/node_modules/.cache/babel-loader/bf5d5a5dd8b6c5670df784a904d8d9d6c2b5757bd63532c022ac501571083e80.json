{"ast":null,"code":"var _jsxFileName = \"D:\\\\UIT\\\\K\\u1EF9 thu\\u1EADt l\\u1EADp tr\\xECnh AI - CS311\\\\CS311_web\\\\frontend\\\\src\\\\pages\\\\QuizDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizDetail = () => {\n  _s();\n  const {\n    quiz_name\n  } = useParams();\n  const [quiz, setQuiz] = useState(null);\n  const [error, setError] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    const fetchQuiz = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setError(\"Vui lòng đăng nhập.\");\n          return;\n        }\n        const response = await axios.get(`http://localhost:8000/api/quizzes/${quiz_name}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setQuiz(response.data);\n        setAnswers(Array(response.data.questions.length).fill(\"\"));\n      } catch (err) {\n        setError(\"Không thể tải chi tiết quiz.\");\n      }\n    };\n    if (quiz_name) {\n      fetchQuiz();\n    }\n  }, [quiz_name]);\n  const handleAnswerChange = (index, value) => {\n    const newAnswers = [...answers];\n    newAnswers[index] = value;\n    setAnswers(newAnswers);\n  };\n  const submitQuiz = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.post(`http://localhost:8000/api/quizzes/${quiz_name}/attempt`, answers, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setResult(response.data);\n    } catch (err) {\n      setError(\"Không thể gửi bài làm.\");\n    }\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n  if (!quiz) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0110ang t\\u1EA3i chi ti\\u1EBFt quiz...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center min-h-screen bg-gradient-to-r from-blue-400 to-purple-500 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-6\",\n      children: quiz.quiz_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow w-full max-w-3xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: quiz.quiz_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-4\",\n        children: quiz.questions.map((question, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"p-4 border rounded-lg bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold\",\n            children: [\"C\\xE2u \", index + 1, \". \", question.question]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: question.options.map((option, idx) => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: `question-${index}`,\n                value: option,\n                onChange: () => handleAnswerChange(index, option)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), option]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitQuiz,\n        className: \"mt-6 bg-green-500 text-white py-2 px-4 rounded hover:bg-green-700 transition\",\n        children: \"N\\u1ED9p b\\xE0i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-gray-100 p-4 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold\",\n          children: [\"K\\u1EBFt qu\\u1EA3: \", result.score, \"/\", result.total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0110\\xE1p \\xE1n \\u0111\\xFAng: \", result.answers.join(\", \")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        className: \"mt-6 inline-block bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition\",\n        children: \"Quay l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizDetail, \"Hcw/AmOS+BWQUiRqpNf/p459BU4=\", false, function () {\n  return [useParams];\n});\n_c = QuizDetail;\nexport default QuizDetail;\nvar _c;\n$RefreshReg$(_c, \"QuizDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","jsxDEV","_jsxDEV","QuizDetail","_s","quiz_name","quiz","setQuiz","error","setError","answers","setAnswers","result","setResult","fetchQuiz","token","localStorage","getItem","response","get","headers","Authorization","data","Array","questions","length","fill","err","handleAnswerChange","index","value","newAnswers","submitQuiz","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","question","options","option","idx","type","name","onChange","onClick","score","total","join","to","_c","$RefreshReg$"],"sources":["D:/UIT/Kỹ thuật lập trình AI - CS311/CS311_web/frontend/src/pages/QuizDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst QuizDetail = () => {\r\n  const { quiz_name } = useParams();\r\n  const [quiz, setQuiz] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchQuiz = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (!token) {\r\n          setError(\"Vui lòng đăng nhập.\");\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`http://localhost:8000/api/quizzes/${quiz_name}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        setQuiz(response.data);\r\n        setAnswers(Array(response.data.questions.length).fill(\"\"));\r\n      } catch (err) {\r\n        setError(\"Không thể tải chi tiết quiz.\");\r\n      }\r\n    };\r\n\r\n    if (quiz_name) {\r\n      fetchQuiz();\r\n    }\r\n  }, [quiz_name]);\r\n\r\n  const handleAnswerChange = (index, value) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[index] = value;\r\n    setAnswers(newAnswers);\r\n  };\r\n\r\n  const submitQuiz = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await axios.post(\r\n        `http://localhost:8000/api/quizzes/${quiz_name}/attempt`,\r\n        answers,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      setResult(response.data);\r\n    } catch (err) {\r\n      setError(\"Không thể gửi bài làm.\");\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-500\">{error}</p>;\r\n  }\r\n\r\n  if (!quiz) {\r\n    return <p>Đang tải chi tiết quiz...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center min-h-screen bg-gradient-to-r from-blue-400 to-purple-500 p-6\">\r\n      <h1 className=\"text-4xl font-bold mb-6\">{quiz.quiz_name}</h1>\r\n      <div className=\"bg-white p-6 rounded-lg shadow w-full max-w-3xl\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">{quiz.quiz_name}</h2>\r\n        <ul className=\"space-y-4\">\r\n          {quiz.questions.map((question, index) => (\r\n            <li key={index} className=\"p-4 border rounded-lg bg-gray-50\">\r\n              <h3 className=\"font-semibold\">Câu {index + 1}. {question.question}</h3>\r\n              <div className=\"mt-2\">\r\n                {question.options.map((option, idx) => (\r\n                  <label key={idx} className=\"block\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name={`question-${index}`}\r\n                      value={option}\r\n                      onChange={() => handleAnswerChange(index, option)}\r\n                    />\r\n                    {option}\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          onClick={submitQuiz}\r\n          className=\"mt-6 bg-green-500 text-white py-2 px-4 rounded hover:bg-green-700 transition\"\r\n        >\r\n          Nộp bài\r\n        </button>\r\n        {result && (\r\n          <div className=\"mt-6 bg-gray-100 p-4 rounded\">\r\n            <p className=\"font-bold\">Kết quả: {result.score}/{result.total}</p>\r\n            <p>Đáp án đúng: {result.answers.join(\", \")}</p>\r\n          </div>\r\n        )}\r\n        <Link to=\"/home\" className=\"mt-6 inline-block bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition\">\r\n          Quay lại\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}